#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
MHSS_States <- count(mh2015_VA_US, mh2015_VA_US$LST)
colnames(MHSS_States) <- c("State", "Number of VAMC")
View(MHSS_States, "US Mainland States with VA Medical Centers")
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
MHSS_States <- count(mh2015_VA_US, mh2015_VA_US$LST)
colnames(MHSS_States) <- c("State", "Number of VAMC")
View(MHSS_States, "US Mainland States with VA Medical Centers")
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
MHSS_States <- count(mh2015_puf, mh2015_VA_US$LST)
colnames(MHSS_States) <- c("State", "Number of VAMC")
View(MHSS_States, "US Mainland States with VA Medical Centers")
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
MHSS_States <- count(mh2015_puf, mh2015_puf$LST)
colnames(MHSS_States) <- c("State", "Number of VAMC")
View(MHSS_States, "US Mainland States with VA Medical Centers")
library(base)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
library(base)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
MHSS_States <- count(mh2015_puf, mh2015_puf$LST)
colnames(MHSS_States) <- c("State", "Number of VAMC")
View(MHSS_States, "US Mainland States with VA Medical Centers")
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(MHSS_State_Count) <- c("State", "Number of VAMC")
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_States_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(panel.grid.major.y=1, axis.text.x=element_text(angle = 90, vjust = 1, ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1, panel.grid.major.y=1), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1,), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
View(VAMC_State_Count)
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize, by = VAMC_State_Count$State)
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize, by = State)
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize, by = (State %in% VAMC_State_Count$State))
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize, by = (State %in% statesize))
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
View(VAMC_State_Count)
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
View(VAMC_State_Count)
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
VAMC_State_Count$`VAMC Per 1000mi` <- round(VAMC_State_Count$`VAMC Per 1000mi`, digits = 3)
View(VAMC_State_Count)
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by US Continental State per 1000 SqMi", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of Veterans Affairs Medical Centers by US Continental State per 1000 SqMi", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
VAMC_State_Count$`VAMC Per 1000mi` <- round(VAMC_State_Count$`VAMC Per 1000mi`, digits = 3)
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
#View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
VAMC_State_Count$`VAMC Per 1000mi` <- round(VAMC_State_Count$`VAMC Per 1000mi`, digits = 3)
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
#View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
VAMC_State_Count$`VAMC Per 1000mi` <- round(VAMC_State_Count$`VAMC Per 1000mi`, digits = 3)
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
VAMC_State_Count_Plot <-ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count_Plot
VAMC_State_Count_Region_Plot <- ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count_Region_Plot
#HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
rm(mh2015_puf)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
##HW06 1a, 1b, 1c
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
#Make States a factor in order to color bars of chart by state
VAMC_State_Count$State <- factor(VAMC_State_Count$State, levels = VAMC_State_Count$State)
#Plot the Number of VAMC per state and order
ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$State, VAMC_State_Count$`Number of VAMC`), VAMC_State_Count$`Number of VAMC`)) + geom_bar(aes(fill=VAMC_State_Count$State), stat="identity") + ggtitle("Distribution of VA Medical Centers in continental US") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = LST) + labs(title="Number of Veterans Affairs Medical Centers by State", fill = "State", x= "State", y= "VAMC Count")
library(readr)
statesize <- read_csv("N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/statesize.csv")
#View(statesize)
str(statesize)
colnames(statesize) <- c("State Name", "SqMiles", "State", "Region")
statesize <- subset.data.frame(statesize, !(State %in% Excluded_States))
statesize
VAMC_State_Count <- merge(VAMC_State_Count, statesize)
VAMC_State_Count$`VAMC Per 1000mi` <- VAMC_State_Count$`Number of VAMC`/(VAMC_State_Count$SqMiles/1000)
VAMC_State_Count$`VAMC Per 1000mi` <- round(VAMC_State_Count$`VAMC Per 1000mi`, digits = 3)
VAMC_State_Count$`State Name` <- factor(VAMC_State_Count$`State Name`, levels = VAMC_State_Count$`State Name`)
VAMC_State_Count_Plot <-ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$`State Name`, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
VAMC_State_Count_Region_Plot <- ggplot(VAMC_State_Count, aes(reorder(VAMC_State_Count$Region, VAMC_State_Count$`VAMC Per 1000mi`), VAMC_State_Count$`VAMC Per 1000mi`)) + geom_bar(aes(fill=VAMC_State_Count$`State Name`), stat="identity") + ggtitle("Density of VA Medical Centers Per US Continental State") + theme(axis.text.x=element_text(angle = 90, vjust = 1,hjust = ), legend.position="none") + scale_color_manual(values = `State Name`) + labs(title="Number of VAMC per 1000 SqMi per State", fill = "State", x= "State", y= "VAMC Count per 1000 SqMi")
unlink('Unit06HW_RMarkdown_mmastrangeli_cache', recursive = TRUE)
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
mh2015_puf$LST <- trimws(as.character(mh2015_puf$LST))
#replace FACILITYTYPE with cleaner data
mh2015_puf$FACILITYTYPE <- as.numeric(mh2015_puf$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
mh2015_puf <- subset.data.frame(mh2015_puf, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
mh2015_puf <- subset.data.frame(mh2015_puf, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(mh2015_puf, mh2015_puf$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
VAMC <- as.data.frame(mh2015_puf)
VAMC$LST <- trimws(as.character(VAMC$LST))
#replace FACILITYTYPE with cleaner data
VAMC$FACILITYTYPE <- as.numeric(VAMC$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
VAMC <- subset.data.frame(VAMC, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
VAMC <- subset.data.frame(VAMC, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(VAMC, VAMC$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
VAMC <- as.data.frame(mh2015_puf)
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
VAMC$LST <- trimws(as.character(VAMC$LST))
#replace FACILITYTYPE with cleaner data
VAMC$FACILITYTYPE <- as.numeric(VAMC$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
VAMC <- subset.data.frame(VAMC, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
VAMC <- subset.data.frame(VAMC, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(VAMC, VAMC$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
knitr::opts_chunk$set(echo = TRUE)
library(dplyr)
library(ggplot2)
library(tidyr)
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
VAMC <- mh2015_puf
VAMC$LST <- trimws(as.character(VAMC$LST))
#replace FACILITYTYPE with cleaner data
VAMC$FACILITYTYPE <- as.numeric(VAMC$FACILITYTYPE)
#subset the dataframe with only the Veterans Affairs Medical Centers
VAMC <- subset.data.frame(VAMC, (FACILITYTYPE %in% "6"))
#Subset the dataframe with only the Continental US states
#Create vector of states to exclude
Excluded_States <- c("AK", "AS", "GU", "HI", "PR", "VI")
VAMC <- subset.data.frame(VAMC, !(LST %in% Excluded_States))
#Count Number of VAMC per state and rename columns
VAMC_State_Count <- count(VAMC, VAMC$LST)
colnames(VAMC_State_Count) <- c("State", "Number of VAMC")
View(VAMC_State_Count, "US Mainland States with VA Medical Centers")
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
VAMC <- load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
VAMC$LST <- trimws(as.character(VAMC$LST))
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
VAMC <- as.data.frame(load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE))
VAMC$LST <- trimws(as.character(VAMC$LST))
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
VAMC$LST <- trimws(as.character(VAMC$LST))
##HW06 1a, 1b, 1c
#replace LST column with cleaner data
load("/Users/mmastran/SMU/MSDS/github/MSDS/Unit06HW/N-MHSS-2015-DS0001-bndl-data-r/N-MHSS-2015-DS0001-data/N-MHSS-2015-DS0001-data-r.rda", envir = parent.frame(), verbose = FALSE)
VAMC$LST <- trimws(as.character(VAMC$LST))
